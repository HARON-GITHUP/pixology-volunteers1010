<!doctype html>
<html lang="ar" dir="rtl">
  <header class="top">
  <h1>ููุญุฉ ุงูุชุญูู (Pixology)</h1>
  <link rel="stylesheet" href="style.css" />

  <div class="actions">
    <input id="search" placeholder="ุจุญุซ ุจุงูุงุณู ุฃู ID..." />

    <select id="filterStage">
      <option value="">ูู ุงูุญุงูุงุช</option>
      <option value="Active">Active</option>
      <option value="Inactive">Inactive</option>
      <option value="Certified">Certified</option>
    </select>

    <!-- ุฒุฑ ุงูุณูุจุฑ ุฃุฏูู (ูุฎูู ุงูุชุฑุงุถููุง) -->
    <a id="goSuper" href="super.html" style="display:none">
      ุณูุจุฑ ุฃุฏูู
    </a>

    <button id="exportCsv">ุชุตุฏูุฑ CSV</button>
    <button id="logout">ุชุณุฌูู ุฎุฑูุฌ</button>
    <button id="btnAdminGoogle" class="btn btn--solid">
  ุชุณุฌูู ุฃุฏูู ุจุฌูุฌู
</button>

<p id="adminUidMsg" style="margin-top:10px; font-weight:700;"></p>

  </div>
</header>


    <main class="wrap">
      <!-- Login -->
      <section class="card" id="loginBox">
        <h2>ุชุณุฌูู ุฏุฎูู ุงูุฃุฏูู</h2>
        <input id="email" type="email" placeholder="Email" />
        <input id="password" type="password" placeholder="Password" />
        <button id="login">ุฏุฎูู</button>
        <p id="loginMsg" class="msg"></p>
      </section>

      <!-- Data -->
      <section class="card" id="dataBox" style="display: none">
        <!-- โ ุทูุจุงุช ุงูุชุทูุน -->
        <h2>ุทูุจุงุช ุงูุชุทูุน (Pending)</h2>
        <div class="hint">
          * ุงุถุบุท ููุงููุฉ ูุฅุตุฏุงุฑ ID ุฑุณูู ูููู ุงูุทูุจ ููุงุฆูุฉ ุงููุชุทูุนูู
        </div>

        <div class="tableWrap" style="margin-bottom: 18px">
          <table>
            <thead>
              <tr>
                <th>ููุช</th>
                <th>ุงุณู</th>
                <th>ุฑูู ุงููุงุชู</th>
                <th>ุงูุฌูุณ</th>
                <th>ุชุงุฑูุฎ ุงูุงูุถูุงู</th>
                <th>ุงูุฏููุฉ</th>
                <th>ููุงุญุธุงุช</th>
                <th>ุฅุฌุฑุงุก</th>
              </tr>
            </thead>
            <tbody id="reqRows"></tbody>
          </table>
        </div>

        <!-- โ ุฅุถุงูุฉ ูุชุทูุน ูุฏูููุง (Step 2) -->
        <h2 style="margin-top: 22px">ุฅุถุงูุฉ ูุชุทูุน ูุฏูููุง</h2>
        <div class="hint">* ููุฃุฏูู ููุท โ ููุทูุน Volunteer ID ุชููุงุฆู</div>

        <div class="card" style="margin: 10px 0 14px; padding: 14px">
          <div style="display: grid; gap: 10px; grid-template-columns: 1fr 1fr">
            <input id="mName" placeholder="ุงุณู ุงููุชุทูุน" />
            <input id="mPhone" placeholder="ุฑูู ุงููุงุชู" />

            <select id="mGender">
              <option value="">ุงูุฌูุณ</option>
              <option value="Male">Male</option>
              <option value="Female">Female</option>
            </select>

            <input
              id="mJoinedAt"
              placeholder="ุชุงุฑูุฎ ุงูุงูุถูุงู (ูุซุงู: 2026-01-28)"
            />

            <input id="mCountry" placeholder="ุงูุฏููุฉ" />
            <input id="mNotes" placeholder="ููุงุญุธุงุช" />
          </div>

          <div
            style="
              margin-top: 10px;
              display: flex;
              gap: 10px;
              flex-wrap: wrap;
              align-items: center;
            "
          >
            <input id="mPhoto" type="file" accept="image/*" />
            <button id="mAddBtn" class="btn btn--solid" type="button">
              โ ุฅุถุงูุฉ
            </button>
            <small class="muted" id="mMsg"></small>
          </div>

          <div class="hint" style="margin-top: 8px">
            * ูู ุงูุตูุฑุฉ ูุจูุฑุฉ ููู ุงูุฃูุถู ูุง ุชุฑูุนูุงุด ุฏูููุชู (ุนุดุงู ุญุฌู Firestore)
          </div>
        </div>

        <!-- โ ุงููุชุทูุนูู ุงููุนุชูุฏูู -->
        <h2>ุงููุชุทูุนูู (Approved)</h2>
        <div class="hint">* ุงูุจูุงูุงุช ุชุธูุฑ ููุฃุฏูู ููุท</div>

        <div class="actions" style="margin: 10px 0 14px; gap: 10px">
          <button id="deleteSelected" class="btn btn--outline" type="button">
            ๐๏ธ ูุณุญ ุงููุญุฏุฏ
          </button>
          <button id="clearSelection" class="btn btn--outline" type="button">
            โ๏ธ ุฅูุบุงุก ุงูุชุญุฏูุฏ
          </button>
        </div>

        <div class="tableWrap">
          <table>
            <thead>
              <tr>
                <th><input type="checkbox" id="selectAll" /></th>
                <th>ููุช</th>
                <th>ุตูุฑุฉ</th>
                <th>ุงุณู ุงููุชุทูุน</th>
                <th>Volunteer ID</th>
                <th>ุฑูู ุงููุชุทูุน</th>
                <th>ุงูุฌูุณ</th>
                <th>ุชุงุฑูุฎ ุงูุงูุถูุงู</th>
                <th>ุงูุณุงุนุงุช</th>
                <th>ุงูุญุงูุฉ</th>
                <th>ููุงุญุธุงุช</th>
                <th>ุฅุฌุฑุงุก</th>
              </tr>
            </thead>
            <tbody id="rows"></tbody>
          </table>
        </div>
      </section>
    
      <!-- =========================
           TASKS (Admin assigns tasks to a specific volunteer)
      ========================== -->
      <section class="card" style="margin-top: 16px">
        <h2 style="margin-top:0">๐งฉ ุฅุฏุงุฑุฉ ุงูููุงู</h2>
        <p style="color:#64748b; line-height:1.8; margin-top:0">
          ููุง ุชูุฏุฑ ุชุถูู ูููุฉ ููุชุทูุน ูุนููู. ุงููุชุทูุน ูููุตูู ุฅุดุนุงุฑุ ูููุง ููุงูู ูุจุฏุฃ ุงูุนุฏุงุฏ (ุจุงูุณุงุนุงุช) ุชููุงุฆููุง.
        </p>

        <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 12px">
          <div class="card" style="padding:14px; border-radius:16px">
            <label style="display:block; font-weight:700; margin-bottom:6px">ุงุฎุชุงุฑ ุงููุชุทูุน</label>
            <select id="taskVolunteer" style="width:100%; padding:10px; border-radius:12px">
              <option value="">ุชุญููู ุงููุชุทูุนูู...</option>
            </select>
            <div style="color:#94a3b8; font-size:13px; margin-top:8px">
              * ุงููุงุฆูุฉ ุจุชุฌูุจ ุงููุชุทูุนูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.
            </div>
          </div>

          <div class="card" style="padding:14px; border-radius:16px">
            <label style="display:block; font-weight:700; margin-bottom:6px">ุนููุงู ุงููููุฉ</label>
            <input id="taskTitle" placeholder="ูุซุงู: ุชุฌููุฒ ุจูุณุช ููุฏุนูุฉ" style="width:100%; padding:10px; border-radius:12px" />
            <label style="display:block; font-weight:700; margin:10px 0 6px">ุงููุฏุฉ (ุณุงุนุงุช)</label>
            <input id="taskHours" type="number" min="1" value="5" style="width:100%; padding:10px; border-radius:12px" />
          </div>

          <div class="card" style="padding:14px; border-radius:16px">
            <label style="display:block; font-weight:700; margin-bottom:6px">ูุตู ุงููููุฉ</label>
            <textarea id="taskDesc" rows="5" placeholder="ุงูุชุจ ุชูุงุตูู ุงููููุฉ..." style="width:100%; padding:10px; border-radius:12px"></textarea>
            <button id="btnCreateTask" class="btn btn--solid" style="width:100%; margin-top:10px">
              โ ุฅุฑุณุงู ุงููููุฉ
            </button>
          </div>
        </div>

        <div class="card" style="margin-top: 12px; padding: 14px; border-radius: 16px">
          <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between">
            <h3 style="margin:0">๐ ุฃุญุฏุซ ุงูููุงู</h3>
            <button id="btnRefreshTasks" class="btn" type="button">ุชุญุฏูุซ</button>
          </div>
          <div id="adminTasksList" class="grid" style="margin-top:10px; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 12px"></div>
        </div>
      </section>

</main>

    <script type="module" src="admin.js"></script>

    <div id="toast" class="toast" aria-live="polite"></div>

    <script>
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker.register("./sw.js").catch(console.error);
        });
      }
    </script>
  </body>
</html>
